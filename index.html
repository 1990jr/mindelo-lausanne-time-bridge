<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mindelo â†” Lausanne Time Bridge</title>
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>ğŸŒ‰</text></svg>">
    <link href="https://fonts.googleapis.com/css2?family=Fraunces:opsz,wght@9..144,500;9..144,700&family=Manrope:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
</head>
<body>

    <!-- Header -->
    <header class="bridge-header">
        <h1>Mindelo <span class="bridge-icon">ğŸŒ‰</span> Lausanne</h1>
        <p class="subtitle" id="subtitle">A bridge between two homes</p>
        <div class="lang-switcher">
            <button class="lang-btn active" onclick="setLanguage('en')">EN</button>
            <button class="lang-btn" onclick="setLanguage('fr')">FR</button>
            <button class="lang-btn" onclick="setLanguage('pt')">PT</button>
        </div>
    </header>

    <!-- Time Difference -->
    <div class="time-diff-banner" id="timeDiffBanner">
        <span id="timeDiffPrefix">Lausanne is</span> <span id="timeDiff">2 hours</span> <span id="timeDiffSuffix">ahead of Mindelo</span>
    </div>

    <!-- Dual Clocks -->
    <section class="clocks-section">
        <div class="clock-panel clock-cv">
            <div class="clock-location" id="locationCv">Cabo Verde</div>
            <div class="clock-city">Mindelo</div>
            <div class="clock-flag">ğŸ‡¨ğŸ‡»</div>
            <div class="clock-time" id="timeMindelo">--:--</div>
            <div class="clock-date" id="dateMindelo">Loading...</div>
            <div class="clock-timezone" id="tzMindelo">CVT (UTC-1)</div>
        </div>
        <div class="clock-panel clock-ch">
            <div class="clock-location" id="locationCh">Switzerland</div>
            <div class="clock-city">Lausanne</div>
            <div class="clock-flag">ğŸ‡¨ğŸ‡­</div>
            <div class="clock-time" id="timeLausanne">--:--</div>
            <div class="clock-date" id="dateLausanne">Loading...</div>
            <div class="clock-timezone" id="tzLausanne">CET (UTC+1)</div>
        </div>
    </section>

    <!-- What's Happening Now -->
    <section class="happening-section">
        <div class="happening-panel happening-cv">
            <div class="happening-label" id="happeningLabelCv">Right now in Mindelo</div>
            <span class="happening-emoji" id="happeningCvEmoji">â˜€ï¸</span>
            <div class="happening-text" id="happeningCv">Loading...</div>
        </div>
        <div class="happening-panel happening-ch">
            <div class="happening-label" id="happeningLabelCh">Right now in Lausanne</div>
            <span class="happening-emoji" id="happeningChEmoji">ğŸ”ï¸</span>
            <div class="happening-text" id="happeningCh">Loading...</div>
        </div>
    </section>

    <!-- Best Time to Call -->
    <div class="section-title">
        <h2 id="callTitle">Best Time to Call</h2>
        <p id="callSubtitle">Best overlap when both cities are awake and off work</p>
    </div>

    <section class="call-section">
        <div class="call-card">
            <div class="call-status" id="callStatus">Checking overlap...</div>
            <div class="call-next" id="callNext">Loading...</div>
            <div class="work-hours-grid">
                <div class="hours-panel hours-cv">
                    <div class="hours-label" id="callHoursCvLabel">ğŸ‡¨ğŸ‡» Mindelo call window</div>
                    <div class="hours-value" id="workHoursCv">Awake: 08:00-21:00 Â· Work (Mon-Fri): 08:00-13:00, 14:00-18:00</div>
                </div>
                <div class="hours-panel hours-ch">
                    <div class="hours-label" id="callHoursChLabel">ğŸ‡¨ğŸ‡­ Lausanne call window</div>
                    <div class="hours-value" id="workHoursCh">Awake: 08:00-21:00 Â· Work (Mon-Fri): 09:00-18:00</div>
                </div>
            </div>
        </div>
    </section>

    <!-- AI Insight -->
    <div class="section-title">
        <h2 id="aiTitle">AI Daily Insight</h2>
        <p id="aiSubtitle">AI-generated content may contain mistakes.</p>
    </div>

    <section class="ai-section">
        <div class="ai-card">
            <div class="ai-controls">
                <div class="ai-status" id="aiStatus">Generating daily insight...</div>
                <button class="ai-log-download-btn" id="aiLogDownloadBtn" type="button">Download message log</button>
            </div>
            <div class="ai-output" id="aiOutput">When connected, this will summarize today in Mindelo and Lausanne.</div>
        </div>
    </section>

    <!-- Weather -->
    <div class="section-title">
        <h2 id="weatherTitle">Weather Comparison</h2>
        <p id="weatherSubtitle">Live conditions in both cities</p>
    </div>

    <section class="weather-section">
        <div class="weather-panel weather-cv" id="weatherCv">
            <h3 id="weatherCvTitle">ğŸ‡¨ğŸ‡» Mindelo Weather</h3>
            <div id="weatherCvContent">
                <div class="weather-error" id="weatherCvLoading">Loading weather data...</div>
            </div>
            <div class="weather-meta" id="weatherCvMeta">Updated: --</div>
        </div>
        <div class="weather-panel weather-ch" id="weatherCh">
            <h3 id="weatherChTitle">ğŸ‡¨ğŸ‡­ Lausanne Weather</h3>
            <div id="weatherChContent">
                <div class="weather-error" id="weatherChLoading">Loading weather data...</div>
            </div>
            <div class="weather-meta" id="weatherChMeta">Updated: --</div>
        </div>
    </section>

    <!-- Sunrise / Sunset -->
    <div class="section-title">
        <h2 id="sunTitle">Sunrise &amp; Day Length</h2>
        <p id="sunSubtitle">Today's sunlight in both cities</p>
    </div>

    <section class="sun-section">
        <div class="sun-panel sun-cv">
            <h3 id="sunCvTitle">ğŸ‡¨ğŸ‡» Mindelo Sun</h3>
            <div id="sunCvContent">
                <div class="weather-error">Loading solar data...</div>
            </div>
        </div>
        <div class="sun-panel sun-ch">
            <h3 id="sunChTitle">ğŸ‡¨ğŸ‡­ Lausanne Sun</h3>
            <div id="sunChContent">
                <div class="weather-error">Loading solar data...</div>
            </div>
        </div>
        <div class="sun-diff" id="sunDiff">Calculating daylight difference...</div>
    </section>

    <!-- Cultural Calendar -->
    <div class="section-title">
        <h2 id="calendarTitle">Cultural Calendar</h2>
        <p id="calendarSubtitle">Upcoming holidays &amp; events</p>
    </div>

    <section class="calendar-section">
        <div class="calendar-panel calendar-cv" id="calendarCv"></div>
        <div class="calendar-panel calendar-ch" id="calendarCh"></div>
    </section>

    <!-- News & Media -->
    <div class="section-title">
        <h2 id="mediaTitle">News &amp; Media</h2>
        <p id="mediaSubtitle">Stay connected with what's happening back home</p>
    </div>

    <section class="media-section">
        <div class="media-panel media-cv">
            <h3 id="mediaCvTitle">ğŸ‡¨ğŸ‡» Cabo Verde & Mindelo</h3>
            <div class="media-grid" id="mediaGridCv">
                <a href="https://mindelinsite.com/" target="_blank" rel="noopener" class="media-link">
                    <span class="media-icon">ğŸ“°</span>
                    <span class="media-info">
                        <span class="media-name">Mindel Insite</span>
                        <span class="media-type" data-i18n="mediaTypeSvNews">SÃ£o Vicente news</span>
                    </span>
                </a>
                <a href="https://www.balai.cv/" target="_blank" rel="noopener" class="media-link">
                    <span class="media-icon">ğŸŒ</span>
                    <span class="media-info">
                        <span class="media-name">Balai</span>
                        <span class="media-type" data-i18n="mediaTypeAggregator">Aggregator</span>
                    </span>
                </a>
                <a href="https://asemana.sapo.cv/" target="_blank" rel="noopener" class="media-link">
                    <span class="media-icon">ğŸ“°</span>
                    <span class="media-info">
                        <span class="media-name">A Semana</span>
                        <span class="media-type" data-i18n="mediaTypeWeekly">Weekly newspaper</span>
                    </span>
                </a>
                <a href="https://expressodasilhas.cv/" target="_blank" rel="noopener" class="media-link">
                    <span class="media-icon">ğŸ“°</span>
                    <span class="media-info">
                        <span class="media-name">Expresso das Ilhas</span>
                        <span class="media-type" data-i18n="mediaTypeDaily">Daily newspaper</span>
                    </span>
                </a>
                <a href="https://inforpress.cv/" target="_blank" rel="noopener" class="media-link">
                    <span class="media-icon">ğŸ›ï¸</span>
                    <span class="media-info">
                        <span class="media-name">Inforpress</span>
                        <span class="media-type" data-i18n="mediaTypeAgency">News agency</span>
                    </span>
                </a>
                <a href="https://anacao.cv/" target="_blank" rel="noopener" class="media-link">
                    <span class="media-icon">ğŸ“°</span>
                    <span class="media-info">
                        <span class="media-name">A NaÃ§Ã£o</span>
                        <span class="media-type" data-i18n="mediaTypeNewspaper">Newspaper</span>
                    </span>
                </a>
                <a href="https://santiagomagazine.cv/" target="_blank" rel="noopener" class="media-link">
                    <span class="media-icon">ğŸ“–</span>
                    <span class="media-info">
                        <span class="media-name">Santiago Magazine</span>
                        <span class="media-type" data-i18n="mediaTypeMagazine">Magazine</span>
                    </span>
                </a>
                <a href="https://rtc.cv/" target="_blank" rel="noopener" class="media-link">
                    <span class="media-icon">ğŸ“º</span>
                    <span class="media-info">
                        <span class="media-name">RTC (TCV)</span>
                        <span class="media-type" data-i18n="mediaTypeTvRadio">TV & Radio</span>
                    </span>
                </a>
            </div>
        </div>
        <div class="media-panel media-ch">
            <h3 id="mediaChTitle">ğŸ‡¨ğŸ‡­ Lausanne & Vaud</h3>
            <div class="media-grid" id="mediaGridCh">
                <a href="https://www.rts.ch/info/regions/vaud/" target="_blank" rel="noopener" class="media-link">
                    <span class="media-icon">ğŸ“º</span>
                    <span class="media-info">
                        <span class="media-name">RTS Info</span>
                        <span class="media-type" data-i18n="mediaTypePublic">Public broadcaster</span>
                    </span>
                </a>
                <a href="https://www.20min.ch/fr/suisse-romande/vaud" target="_blank" rel="noopener" class="media-link">
                    <span class="media-icon">ğŸ“°</span>
                    <span class="media-info">
                        <span class="media-name">20 Minutes</span>
                        <span class="media-type" data-i18n="mediaTypeFreeDaily">Free daily</span>
                    </span>
                </a>
                <a href="https://www.24heures.ch/" target="_blank" rel="noopener" class="media-link">
                    <span class="media-icon">ğŸ“°</span>
                    <span class="media-info">
                        <span class="media-name">24 Heures</span>
                        <span class="media-type" data-i18n="mediaTypeVaudDaily">Vaud daily</span>
                    </span>
                </a>
                <a href="https://www.letemps.ch/" target="_blank" rel="noopener" class="media-link">
                    <span class="media-icon">ğŸ“°</span>
                    <span class="media-info">
                        <span class="media-name">Le Temps</span>
                        <span class="media-type" data-i18n="mediaTypeRomande">Suisse romande</span>
                    </span>
                </a>
                <a href="https://www.lematin.ch/" target="_blank" rel="noopener" class="media-link">
                    <span class="media-icon">ğŸ“°</span>
                    <span class="media-info">
                        <span class="media-name">Le Matin</span>
                        <span class="media-type" data-i18n="mediaTypeTabloid">Tabloid</span>
                    </span>
                </a>
                <a href="https://lausannecites.ch/" target="_blank" rel="noopener" class="media-link">
                    <span class="media-icon">ğŸ˜ï¸</span>
                    <span class="media-info">
                        <span class="media-name">Lausanne CitÃ©s</span>
                        <span class="media-type" data-i18n="mediaTypeLocalWeekly">Local weekly</span>
                    </span>
                </a>
            </div>
        </div>
    </section>

    <!-- Neuroscience Tip -->
    <section class="neuro-section" id="neuroSection">
        <h2 id="neuroTitle">ğŸ§  Daily Brain Insight</h2>
        <div class="neuro-category" id="neuroCategory">Loading...</div>
        <span class="neuro-emoji" id="neuroEmoji">ğŸ§¬</span>
        <div class="neuro-tip" id="neuroTip">Loading your daily tip...</div>
        <div class="neuro-source" id="neuroSource"></div>
    </section>

    <!-- Footer -->
    <footer class="bridge-footer" id="footer">
        <span id="footerBrand">Mindelo â†” Lausanne Time Bridge</span> <span class="hearts">â™¥</span> <span id="footerText">Connecting two homes across the Atlantic</span>
    </footer>
    <script type="module" src="src/js/app.js"></script>
</body>
</html>
